---
id: browser-event-loop
title: 浏览器事件循环
tags:
  - 浏览器
---

## 1.浏览器的进程模型

### 1.1 进程

程序运行需要有专属的**内存空间**，可以简单把这块内存空间理解为进程

每个应用至少有一个进程，进程之间相互独立

### 1.2 线程

有了进程，才可以运行程序代码，运行代码的对象即线程

一个进程至少有一个线程，进程开启后会自动创建一个线程运行代码，该线程即为主线程，主线程结束意味着整个程序结束

程序往往需要同时执行多块代码，主线程会启动更多线程来执行相关代码，故**一个进程中可以包含多个线程**

### 1.3 浏览器的进程和线程

浏览器是一个多进程多线程的应用程序

为了避免互相影响，减少崩溃概率，启动浏览器后，会自动启动多个进程

其中较为重要的是**浏览器进程**、**网络进程**和**渲染进程**

可以在浏览器的任务管理器查看当前的所有进程（更多 => 更多工具 => 任务管理器）

#### 1.3.1 浏览器进程

主要负责界面展示、用户交互、子进程管理（包括后面的网络进程和渲染进程等）等，浏览器进程内部会启动多个线程处理不同任务

#### 1.3.2 网络进程

负责加载网络资源，网络进程内部会启动多个线程处理不同任务

#### 1.3.3 渲染进程

渲染进程启动后，会开启一个**渲染主线程**，渲染主线程负责执行 HTML、CSS、JS 代码

默认情况下，浏览器会为每个标签页开启一个新的渲染进程来保证不同标签页之间不会相互影响（后续可能会改成一个站点一个进程 site-per-process）

> <https://chromium.googlesource.com/chromium/src/+/main/docs/process_model_and_site_isolation.md>
