"use strict";(self.webpackChunkmy_website_2=self.webpackChunkmy_website_2||[]).push([[8027],{28453:(n,e,r)=>{r.d(e,{R:()=>t,x:()=>i});var c=r(96540);const l={},s=c.createContext(l);function t(n){const e=c.useContext(s);return c.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:t(n.components),c.createElement(s.Provider,{value:e},n.children)}},47328:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>c,toc:()=>a});const c=JSON.parse('{"id":"coding/leetcode/graph/pacific-atlantic-water-flow","title":"417. \u592a\u5e73\u6d0b\u5927\u897f\u6d0b\u6c34\u6d41\u95ee\u9898","description":"\u9898\u76ee\u63cf\u8ff0","source":"@site/docs/coding/leetcode/graph/pacific-atlantic-water-flow.md","sourceDirName":"coding/leetcode/graph","slug":"/coding/leetcode/graph/pacific-atlantic-water-flow","permalink":"/docs/coding/leetcode/graph/pacific-atlantic-water-flow","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/coding/leetcode/graph/pacific-atlantic-water-flow.md","tags":[{"inline":true,"label":"dfs","permalink":"/docs/tags/dfs"},{"inline":true,"label":"bfs","permalink":"/docs/tags/bfs"},{"inline":true,"label":"\u77e9\u9635","permalink":"/docs/tags/\u77e9\u9635"},{"inline":true,"label":"\u6570\u7ec4","permalink":"/docs/tags/\u6570\u7ec4"},{"inline":true,"label":"\u56fe","permalink":"/docs/tags/\u56fe"}],"version":"current","frontMatter":{"id":"pacific-atlantic-water-flow","title":"417. \u592a\u5e73\u6d0b\u5927\u897f\u6d0b\u6c34\u6d41\u95ee\u9898","tags":["dfs","bfs","\u77e9\u9635","\u6570\u7ec4","\u56fe"]},"sidebar":"tutorialSidebar","previous":{"title":"133. \u514b\u9686\u56fe","permalink":"/docs/coding/leetcode/graph/clone-graph"},"next":{"title":"455. \u5206\u53d1\u997c\u5e72","permalink":"/docs/coding/leetcode/greedy-algorithm/assign-cookies"}}');var l=r(74848),s=r(28453);const t={id:"pacific-atlantic-water-flow",title:"417. \u592a\u5e73\u6d0b\u5927\u897f\u6d0b\u6c34\u6d41\u95ee\u9898",tags:["dfs","bfs","\u77e9\u9635","\u6570\u7ec4","\u56fe"]},i=void 0,o={},a=[{value:"\u9898\u76ee\u63cf\u8ff0",id:"\u9898\u76ee\u63cf\u8ff0",level:2},{value:"\u89e3\u9898\u65b9\u6cd5",id:"\u89e3\u9898\u65b9\u6cd5",level:2},{value:"\u65b9\u6cd5\u4e00\uff1adfs",id:"\u65b9\u6cd5\u4e00dfs",level:3},{value:"\u65b9\u6cd5\u4e8c\uff1abfs",id:"\u65b9\u6cd5\u4e8cbfs",level:3}];function d(n){const e={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h2,{id:"\u9898\u76ee\u63cf\u8ff0",children:"\u9898\u76ee\u63cf\u8ff0"}),"\n",(0,l.jsx)(e.p,{children:"\u6709\u4e00\u4e2a m \xd7 n \u7684\u77e9\u5f62\u5c9b\u5c7f\uff0c\u4e0e \u592a\u5e73\u6d0b \u548c \u5927\u897f\u6d0b \u76f8\u90bb\u3002\xa0\u201c\u592a\u5e73\u6d0b\u201d\xa0 \u5904\u4e8e\u5927\u9646\u7684\u5de6\u8fb9\u754c\u548c\u4e0a\u8fb9\u754c\uff0c\u800c \u201c\u5927\u897f\u6d0b\u201d \u5904\u4e8e\u5927\u9646\u7684\u53f3\u8fb9\u754c\u548c\u4e0b\u8fb9\u754c\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u8fd9\u4e2a\u5c9b\u88ab\u5206\u5272\u6210\u4e00\u4e2a\u7531\u82e5\u5e72\u65b9\u5f62\u5355\u5143\u683c\u7ec4\u6210\u7684\u7f51\u683c\u3002\u7ed9\u5b9a\u4e00\u4e2a m x n \u7684\u6574\u6570\u77e9\u9635 \xa0heights\xa0\uff0c\xa0heights[r][c]\xa0 \u8868\u793a\u5750\u6807 (r, c) \u4e0a\u5355\u5143\u683c \u9ad8\u4e8e\u6d77\u5e73\u9762\u7684\u9ad8\u5ea6 \u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u5c9b\u4e0a\u96e8\u6c34\u8f83\u591a\uff0c\u5982\u679c\u76f8\u90bb\u5355\u5143\u683c\u7684\u9ad8\u5ea6 \u5c0f\u4e8e\u6216\u7b49\u4e8e \u5f53\u524d\u5355\u5143\u683c\u7684\u9ad8\u5ea6\uff0c\u96e8\u6c34\u53ef\u4ee5\u76f4\u63a5\u5411\u5317\u3001\u5357\u3001\u4e1c\u3001\u897f\u6d41\u5411\u76f8\u90bb\u5355\u5143\u683c\u3002\u6c34\u53ef\u4ee5\u4ece\u6d77\u6d0b\u9644\u8fd1\u7684\u4efb\u4f55\u5355\u5143\u683c\u6d41\u5165\u6d77\u6d0b\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u8fd4\u56de\u7f51\u683c\u5750\u6807 result\xa0 \u7684 2D \u5217\u8868 \uff0c\u5176\u4e2d \xa0result[i] = [ri, ci]\xa0 \u8868\u793a\u96e8\u6c34\u4ece\u5355\u5143\u683c (ri, ci) \u6d41\u52a8 \u65e2\u53ef\u6d41\u5411\u592a\u5e73\u6d0b\u4e5f\u53ef\u6d41\u5411\u5927\u897f\u6d0b \u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u793a\u4f8b 1\uff1a"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"\u592a\u5e73\u6d0b ~   ~   ~   ~   ~\n       ~  1   2   2   3  (5) *\n       ~  3   2   3  (4) (4) *\n       ~  2   4  (5)  3   1  *\n       ~ (6) (7)  1   4   5  *\n       ~ (5)  1   1   2   4  *\n          *   *   *   *   * \u5927\u897f\u6d0b\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"\u8f93\u5165: heights = [\n  [1, 2, 2, 3, 5],\n  [3, 2, 3, 4, 4],\n  [2, 4, 5, 3, 1],\n  [6, 7, 1, 4, 5],\n  [5, 1, 1, 2, 4],\n];\n\u8f93\u51fa: [\n  [0, 4],\n  [1, 3],\n  [1, 4],\n  [2, 2],\n  [3, 0],\n  [3, 1],\n  [4, 0],\n];\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u793a\u4f8b 2\uff1a"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"\u8f93\u5165: heights = [\n  [2, 1],\n  [1, 2],\n];\n\u8f93\u51fa: [\n  [0, 0],\n  [0, 1],\n  [1, 0],\n  [1, 1],\n];\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u63d0\u793a\uff1a"}),"\n",(0,l.jsxs)(e.p,{children:["m == heights.length\nn == heights[r].length\n1 ",(0,l.jsx)(e.code,{children:"<="})," m, n ",(0,l.jsx)(e.code,{children:"<="})," 200\n0 ",(0,l.jsx)(e.code,{children:"<="})," heights[r][c] ",(0,l.jsx)(e.code,{children:"<="})," 105"]}),"\n",(0,l.jsx)(e.h2,{id:"\u89e3\u9898\u65b9\u6cd5",children:"\u89e3\u9898\u65b9\u6cd5"}),"\n",(0,l.jsx)(e.h3,{id:"\u65b9\u6cd5\u4e00dfs",children:"\u65b9\u6cd5\u4e00\uff1adfs"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u601d\u8def\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u628a\u77e9\u9635\u60f3\u8c61\u6210\u56fe"}),"\n",(0,l.jsx)(e.li,{children:"\u4ece\u6d77\u5cb8\u7ebf\u9006\u6d41\u800c\u4e0a\u904d\u5386\u56fe\uff0c\u6240\u5230\u4e4b\u5904\u5c31\u662f\u53ef\u4ee5\u6d41\u5230\u67d0\u4e2a\u5927\u6d0b\u7684\u5750\u6807"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6b65\u9aa4"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u65b0\u5efa\u4e24\u4e2a\u77e9\u9635\uff0c\u5206\u522b\u8bb0\u5f55\u80fd\u6d41\u5230\u4e24\u4e2a\u5927\u6d0b\u7684\u5750\u6807"}),"\n",(0,l.jsx)(e.li,{children:"\u4ece\u6d77\u5cb8\u7ebf\u591a\u7ba1\u9f50\u4e0b\uff0c\u540c\u65f6\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u56fe\uff0c\u8fc7\u7a0b\u4e2d\u586b\u5145\u77e9\u9635"}),"\n",(0,l.jsx)(e.li,{children:"\u904d\u5386\u4e24\u4e2a\u77e9\u9635\uff0c\u627e\u51fa\u65e2\u80fd\u6d41\u5230\u5927\u897f\u6d0b\u4e5f\u80fd\u6d41\u5230\u592a\u5e73\u6d0b\u7684\u5750\u6807"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"/**\n * @param {number[][]} heights\n * @return {number[][]}\n */\nvar pacificAtlantic = function (heights) {\n  if (!heights || !heights[0]) {\n    return [];\n  }\n\n  // \u884c\u6570\u91cf\uff0c\u5373\u77e9\u9635\u7684\u957f\u5ea6\n  const m = heights.length;\n  // \u5217\u6570\u91cf\uff0c\u5373\u77e9\u9635\u6bcf\u4e00\u9879\u7684\u957f\u5ea6\n  const n = heights[0].length;\n\n  // \u592a\u5e73\u6d0b\u77e9\u9635\n  const flow1 = Array.from({ length: m }, () => new Array(n).fill(false));\n  // \u5927\u897f\u6d0b\u77e9\u9635\n  const flow2 = Array.from({ length: m }, () => new Array(n).fill(false));\n\n  // \u884c\u5750\u6807\uff0c\u5217\u5750\u6807\uff0c\u77e9\u9635\n  const dfs = (r, c, flow) => {\n    // \u6d41\u7ecf\u6807\u8bb0\n    flow[r][c] = true;\n    // \u4e0a\u4e0b\u5de6\u53f3\u67e5\u627e\u76f8\u90bb\u8282\u70b9\n    [\n      [r - 1, c],\n      [r + 1, c],\n      [r, c - 1],\n      [r, c + 1],\n    ].forEach(([nr, nc]) => {\n      if (\n        // \u5728\u77e9\u9635\u4e2d, \u8fb9\u754c\u5904\u7406\n        nr >= 0 &&\n        nr < m &&\n        nc >= 0 &&\n        nc < n &&\n        // \u6ca1\u6709\u6d41\u8fc7\uff0c\u9632\u6b62\u6b7b\u5faa\u73af\n        !flow[nr][nc] &&\n        // \u9006\u6d41\u800c\u4e0a\n        heights[nr][nc] >= heights[r][c]\n      ) {\n        dfs(nr, nc, flow);\n      }\n    });\n  };\n\n  // \u6cbf\u7740\u6d77\u5cb8\u7ebf\u9006\u6d41\u800c\u4e0a\uff0c\u904d\u5386\u7b2c\u4e00\u5217\u548c\u6700\u540e\u4e00\u5217\n  for (let r = 0; r < m; r += 1) {\n    dfs(r, 0, flow1);\n    dfs(r, n - 1, flow2);\n  }\n\n  // \u6cbf\u7740\u6d77\u5cb8\u7ebf\u9006\u6d41\u800c\u4e0a\uff0c\u904d\u5386\u7b2c\u4e00\u884c\u548c\u6700\u540e\u4e00\u884c\n  for (let c = 0; c < n; c += 1) {\n    dfs(0, c, flow1);\n    dfs(m - 1, c, flow2);\n  }\n\n  // \u627e\u51fa\u65e2\u80fd\u6d41\u5230\u5927\u897f\u6d0b\u4e5f\u80fd\u6d41\u5230\u592a\u5e73\u6d0b\u7684\u5750\u6807\n  const res = [];\n  for (let r = 0; r < m; r += 1) {\n    for (let c = 0; c < n; c += 1) {\n      if (flow1[r][c] && flow2[r][c]) {\n        res.push([r, c]);\n      }\n    }\n  }\n  return res;\n};\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u65b9\u6cd5\u4e8cbfs",children:"\u65b9\u6cd5\u4e8c\uff1abfs"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-js",children:"/**\n * @param {number[][]} heights\n * @return {number[][]}\n */\nvar pacificAtlantic = function (heights) {\n  if (!heights || !heights[0]) {\n    return [];\n  }\n\n  // \u884c\u6570\u91cf\uff0c\u5373\u77e9\u9635\u7684\u957f\u5ea6\n  const m = heights.length;\n  // \u5217\u6570\u91cf\uff0c\u5373\u77e9\u9635\u6bcf\u4e00\u9879\u7684\u957f\u5ea6\n  const n = heights[0].length;\n\n  // \u592a\u5e73\u6d0b\u77e9\u9635\n  const flow1 = Array.from({ length: m }, () => new Array(n).fill(false));\n  // \u5927\u897f\u6d0b\u77e9\u9635\n  const flow2 = Array.from({ length: m }, () => new Array(n).fill(false));\n\n  // \u884c\u5750\u6807\uff0c\u5217\u5750\u6807\uff0c\u77e9\u9635\n  const bfs = (r, c, flow) => {\n    // \u6d41\u7ecf\u6807\u8bb0\n    flow[r][c] = true;\n    const queue = [[r, c]];\n    const dirs = [\n      [-1, 0],\n      [1, 0],\n      [0, -1],\n      [0, 1],\n    ];\n\n    while (queue.length) {\n      const cell = queue.shift();\n      for (let dir of dirs) {\n        const nr = dir[0] + cell[0];\n        const nc = dir[1] + cell[1];\n        if (\n          // \u8fb9\u754c\u5904\u7406\n          nr >= 0 &&\n          nr < m &&\n          nc >= 0 &&\n          nc < n &&\n          // \u9632\u6b62\u6b7b\u5faa\u73af\n          !flow[nr][nc] &&\n          // \u9006\u6d41\u800c\u4e0a\n          heights[nr][nc] >= heights[cell[0]][cell[1]]\n        ) {\n          flow[nr][nc] = true;\n          queue.push([nr, nc]);\n        }\n      }\n    }\n  };\n\n  // \u6cbf\u7740\u6d77\u5cb8\u7ebf\u9006\u6d41\u800c\u4e0a\uff0c\u904d\u5386\u7b2c\u4e00\u5217\u548c\u6700\u540e\u4e00\u5217\n  for (let r = 0; r < m; r += 1) {\n    bfs(r, 0, flow1);\n    bfs(r, n - 1, flow2);\n  }\n\n  // \u6cbf\u7740\u6d77\u5cb8\u7ebf\u9006\u6d41\u800c\u4e0a\uff0c\u904d\u5386\u7b2c\u4e00\u884c\u548c\u6700\u540e\u4e00\u884c\n  for (let c = 0; c < n; c += 1) {\n    bfs(0, c, flow1);\n    bfs(m - 1, c, flow2);\n  }\n\n  // \u627e\u51fa\u65e2\u80fd\u6d41\u5230\u5927\u897f\u6d0b\u4e5f\u80fd\u6d41\u5230\u592a\u5e73\u6d0b\u7684\u5750\u6807\n  const res = [];\n  for (let r = 0; r < m; r += 1) {\n    for (let c = 0; c < n; c += 1) {\n      if (flow1[r][c] && flow2[r][c]) {\n        res.push([r, c]);\n      }\n    }\n  }\n  return res;\n};\n"})})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}}}]);