"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7706],{3905:(n,e,t)=>{t.d(e,{Zo:()=>f,kt:()=>m});var r=t(7294);function l(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function c(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){l(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function o(n,e){if(null==n)return{};var t,r,l=function(n,e){if(null==n)return{};var t,r,l={},a=Object.keys(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||(l[t]=n[t]);return l}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(l[t]=n[t])}return l}var i=r.createContext({}),s=function(n){var e=r.useContext(i),t=e;return n&&(t="function"==typeof n?n(e):c(c({},e),n)),t},f=function(n){var e=s(n.components);return r.createElement(i.Provider,{value:e},n.children)},p={inlineCode:"code",wrapper:function(n){var e=n.children;return r.createElement(r.Fragment,{},e)}},u=r.forwardRef((function(n,e){var t=n.components,l=n.mdxType,a=n.originalType,i=n.parentName,f=o(n,["components","mdxType","originalType","parentName"]),u=s(t),m=l,h=u["".concat(i,".").concat(m)]||u[m]||p[m]||a;return t?r.createElement(h,c(c({ref:e},f),{},{components:t})):r.createElement(h,c({ref:e},f))}));function m(n,e){var t=arguments,l=e&&e.mdxType;if("string"==typeof n||l){var a=t.length,c=new Array(a);c[0]=u;var o={};for(var i in e)hasOwnProperty.call(e,i)&&(o[i]=e[i]);o.originalType=n,o.mdxType="string"==typeof n?n:l,c[1]=o;for(var s=2;s<a;s++)c[s]=t[s];return r.createElement.apply(null,c)}return r.createElement.apply(null,t)}u.displayName="MDXCreateElement"},3803:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>i,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>s});var r=t(7462),l=(t(7294),t(3905));const a={id:"pacific-atlantic-water-flow",title:"417. \u592a\u5e73\u6d0b\u5927\u897f\u6d0b\u6c34\u6d41\u95ee\u9898",tags:["dfs","bfs","\u77e9\u9635","\u6570\u7ec4","\u56fe"]},c=void 0,o={unversionedId:"leetcode/graph/pacific-atlantic-water-flow",id:"leetcode/graph/pacific-atlantic-water-flow",title:"417. \u592a\u5e73\u6d0b\u5927\u897f\u6d0b\u6c34\u6d41\u95ee\u9898",description:"\u9898\u76ee\u63cf\u8ff0",source:"@site/docs/leetcode/graph/pacific-atlantic-water-flow.md",sourceDirName:"leetcode/graph",slug:"/leetcode/graph/pacific-atlantic-water-flow",permalink:"/myblog/docs/leetcode/graph/pacific-atlantic-water-flow",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/leetcode/graph/pacific-atlantic-water-flow.md",tags:[{label:"dfs",permalink:"/myblog/docs/tags/dfs"},{label:"bfs",permalink:"/myblog/docs/tags/bfs"},{label:"\u77e9\u9635",permalink:"/myblog/docs/tags/\u77e9\u9635"},{label:"\u6570\u7ec4",permalink:"/myblog/docs/tags/\u6570\u7ec4"},{label:"\u56fe",permalink:"/myblog/docs/tags/\u56fe"}],version:"current",frontMatter:{id:"pacific-atlantic-water-flow",title:"417. \u592a\u5e73\u6d0b\u5927\u897f\u6d0b\u6c34\u6d41\u95ee\u9898",tags:["dfs","bfs","\u77e9\u9635","\u6570\u7ec4","\u56fe"]},sidebar:"leetcode",previous:{title:"94. \u4e8c\u53c9\u6811\u7684\u4e2d\u5e8f\u904d\u5386",permalink:"/myblog/docs/leetcode/tree/binary-tree-inorder-traversal"},next:{title:"215. \u6570\u7ec4\u4e2d\u7684\u7b2cK\u4e2a\u6700\u5927\u5143\u7d20",permalink:"/myblog/docs/leetcode/heap/kth-largest-element-in-an-array"}},i={},s=[{value:"\u9898\u76ee\u63cf\u8ff0",id:"\u9898\u76ee\u63cf\u8ff0",level:2},{value:"\u89e3\u9898\u65b9\u6cd5",id:"\u89e3\u9898\u65b9\u6cd5",level:2},{value:"\u65b9\u6cd5\u4e00\uff1adfs",id:"\u65b9\u6cd5\u4e00dfs",level:3},{value:"\u65b9\u6cd5\u4e8c\uff1abfs",id:"\u65b9\u6cd5\u4e8cbfs",level:3}],f={toc:s};function p(n){let{components:e,...t}=n;return(0,l.kt)("wrapper",(0,r.Z)({},f,t,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"\u9898\u76ee\u63cf\u8ff0"},"\u9898\u76ee\u63cf\u8ff0"),(0,l.kt)("p",null,"\u6709\u4e00\u4e2a m \xd7 n \u7684\u77e9\u5f62\u5c9b\u5c7f\uff0c\u4e0e \u592a\u5e73\u6d0b \u548c \u5927\u897f\u6d0b \u76f8\u90bb\u3002\xa0\u201c\u592a\u5e73\u6d0b\u201d\xa0 \u5904\u4e8e\u5927\u9646\u7684\u5de6\u8fb9\u754c\u548c\u4e0a\u8fb9\u754c\uff0c\u800c \u201c\u5927\u897f\u6d0b\u201d \u5904\u4e8e\u5927\u9646\u7684\u53f3\u8fb9\u754c\u548c\u4e0b\u8fb9\u754c\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u5c9b\u88ab\u5206\u5272\u6210\u4e00\u4e2a\u7531\u82e5\u5e72\u65b9\u5f62\u5355\u5143\u683c\u7ec4\u6210\u7684\u7f51\u683c\u3002\u7ed9\u5b9a\u4e00\u4e2a m x n \u7684\u6574\u6570\u77e9\u9635 \xa0heights\xa0\uff0c\xa0heights","[r][c]","\xa0 \u8868\u793a\u5750\u6807 (r, c) \u4e0a\u5355\u5143\u683c \u9ad8\u4e8e\u6d77\u5e73\u9762\u7684\u9ad8\u5ea6 \u3002"),(0,l.kt)("p",null,"\u5c9b\u4e0a\u96e8\u6c34\u8f83\u591a\uff0c\u5982\u679c\u76f8\u90bb\u5355\u5143\u683c\u7684\u9ad8\u5ea6 \u5c0f\u4e8e\u6216\u7b49\u4e8e \u5f53\u524d\u5355\u5143\u683c\u7684\u9ad8\u5ea6\uff0c\u96e8\u6c34\u53ef\u4ee5\u76f4\u63a5\u5411\u5317\u3001\u5357\u3001\u4e1c\u3001\u897f\u6d41\u5411\u76f8\u90bb\u5355\u5143\u683c\u3002\u6c34\u53ef\u4ee5\u4ece\u6d77\u6d0b\u9644\u8fd1\u7684\u4efb\u4f55\u5355\u5143\u683c\u6d41\u5165\u6d77\u6d0b\u3002"),(0,l.kt)("p",null,"\u8fd4\u56de\u7f51\u683c\u5750\u6807 result\xa0 \u7684 2D \u5217\u8868 \uff0c\u5176\u4e2d \xa0result","[i]"," = ","[ri, ci]","\xa0 \u8868\u793a\u96e8\u6c34\u4ece\u5355\u5143\u683c (ri, ci) \u6d41\u52a8 \u65e2\u53ef\u6d41\u5411\u592a\u5e73\u6d0b\u4e5f\u53ef\u6d41\u5411\u5927\u897f\u6d0b \u3002"),(0,l.kt)("p",null,"\u793a\u4f8b 1\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"\u592a\u5e73\u6d0b ~   ~   ~   ~   ~\n       ~  1   2   2   3  (5) *\n       ~  3   2   3  (4) (4) *\n       ~  2   4  (5)  3   1  *\n       ~ (6) (7)  1   4   5  *\n       ~ (5)  1   1   2   4  *\n          *   *   *   *   * \u5927\u897f\u6d0b\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"\u8f93\u5165: heights = [\n  [1, 2, 2, 3, 5],\n  [3, 2, 3, 4, 4],\n  [2, 4, 5, 3, 1],\n  [6, 7, 1, 4, 5],\n  [5, 1, 1, 2, 4],\n];\n\u8f93\u51fa: [\n  [0, 4],\n  [1, 3],\n  [1, 4],\n  [2, 2],\n  [3, 0],\n  [3, 1],\n  [4, 0],\n];\n")),(0,l.kt)("p",null,"\u793a\u4f8b 2\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"\u8f93\u5165: heights = [\n  [2, 1],\n  [1, 2],\n];\n\u8f93\u51fa: [\n  [0, 0],\n  [0, 1],\n  [1, 0],\n  [1, 1],\n];\n")),(0,l.kt)("p",null,"\u63d0\u793a\uff1a"),(0,l.kt)("p",null,"m == heights.length\nn == heights","[r]",".length\n1 <= m, n <= 200\n0 <= heights","[r][c]"," <= 105"),(0,l.kt)("h2",{id:"\u89e3\u9898\u65b9\u6cd5"},"\u89e3\u9898\u65b9\u6cd5"),(0,l.kt)("h3",{id:"\u65b9\u6cd5\u4e00dfs"},"\u65b9\u6cd5\u4e00\uff1adfs"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u601d\u8def\uff1a"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u628a\u77e9\u9635\u60f3\u8c61\u6210\u56fe"),(0,l.kt)("li",{parentName:"ul"},"\u4ece\u6d77\u5cb8\u7ebf\u9006\u6d41\u800c\u4e0a\u904d\u5386\u56fe\uff0c\u6240\u5230\u4e4b\u5904\u5c31\u662f\u53ef\u4ee5\u6d41\u5230\u67d0\u4e2a\u5927\u6d0b\u7684\u5750\u6807"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u6b65\u9aa4"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u65b0\u5efa\u4e24\u4e2a\u77e9\u9635\uff0c\u5206\u522b\u8bb0\u5f55\u80fd\u6d41\u5230\u4e24\u4e2a\u5927\u6d0b\u7684\u5750\u6807"),(0,l.kt)("li",{parentName:"ul"},"\u4ece\u6d77\u5cb8\u7ebf\u591a\u7ba1\u9f50\u4e0b\uff0c\u540c\u65f6\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u56fe\uff0c\u8fc7\u7a0b\u4e2d\u586b\u5145\u77e9\u9635"),(0,l.kt)("li",{parentName:"ul"},"\u904d\u5386\u4e24\u4e2a\u77e9\u9635\uff0c\u627e\u51fa\u65e2\u80fd\u6d41\u5230\u5927\u897f\u6d0b\u4e5f\u80fd\u6d41\u5230\u592a\u5e73\u6d0b\u7684\u5750\u6807")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"/**\n * @param {number[][]} heights\n * @return {number[][]}\n */\nvar pacificAtlantic = function (heights) {\n  if (!heights || !heights[0]) {\n    return [];\n  }\n\n  // \u884c\u6570\u91cf\uff0c\u5373\u77e9\u9635\u7684\u957f\u5ea6\n  const m = heights.length;\n  // \u5217\u6570\u91cf\uff0c\u5373\u77e9\u9635\u6bcf\u4e00\u9879\u7684\u957f\u5ea6\n  const n = heights[0].length;\n\n  // \u592a\u5e73\u6d0b\u77e9\u9635\n  const flow1 = Array.from({ length: m }, () => new Array(n).fill(false));\n  // \u5927\u897f\u6d0b\u77e9\u9635\n  const flow2 = Array.from({ length: m }, () => new Array(n).fill(false));\n\n  // \u884c\u5750\u6807\uff0c\u5217\u5750\u6807\uff0c\u77e9\u9635\n  const dfs = (r, c, flow) => {\n    // \u6d41\u7ecf\u6807\u8bb0\n    flow[r][c] = true;\n    // \u4e0a\u4e0b\u5de6\u53f3\u67e5\u627e\u76f8\u90bb\u8282\u70b9\n    [\n      [r - 1, c],\n      [r + 1, c],\n      [r, c - 1],\n      [r, c + 1],\n    ].forEach(([nr, nc]) => {\n      if (\n        // \u5728\u77e9\u9635\u4e2d, \u8fb9\u754c\u5904\u7406\n        nr >= 0 &&\n        nr < m &&\n        nc >= 0 &&\n        nc < n &&\n        // \u6ca1\u6709\u6d41\u8fc7\uff0c\u9632\u6b62\u6b7b\u5faa\u73af\n        !flow[nr][nc] &&\n        // \u9006\u6d41\u800c\u4e0a\n        heights[nr][nc] >= heights[r][c]\n      ) {\n        dfs(nr, nc, flow);\n      }\n    });\n  };\n\n  // \u6cbf\u7740\u6d77\u5cb8\u7ebf\u9006\u6d41\u800c\u4e0a\uff0c\u904d\u5386\u7b2c\u4e00\u5217\u548c\u6700\u540e\u4e00\u5217\n  for (let r = 0; r < m; r += 1) {\n    dfs(r, 0, flow1);\n    dfs(r, n - 1, flow2);\n  }\n\n  // \u6cbf\u7740\u6d77\u5cb8\u7ebf\u9006\u6d41\u800c\u4e0a\uff0c\u904d\u5386\u7b2c\u4e00\u884c\u548c\u6700\u540e\u4e00\u884c\n  for (let c = 0; c < n; c += 1) {\n    dfs(0, c, flow1);\n    dfs(m - 1, c, flow2);\n  }\n\n  // \u627e\u51fa\u65e2\u80fd\u6d41\u5230\u5927\u897f\u6d0b\u4e5f\u80fd\u6d41\u5230\u592a\u5e73\u6d0b\u7684\u5750\u6807\n  const res = [];\n  for (let r = 0; r < m; r += 1) {\n    for (let c = 0; c < n; c += 1) {\n      if (flow1[r][c] && flow2[r][c]) {\n        res.push([r, c]);\n      }\n    }\n  }\n  return res;\n};\n")),(0,l.kt)("h3",{id:"\u65b9\u6cd5\u4e8cbfs"},"\u65b9\u6cd5\u4e8c\uff1abfs"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"/**\n * @param {number[][]} heights\n * @return {number[][]}\n */\nvar pacificAtlantic = function (heights) {\n  if (!heights || !heights[0]) {\n    return [];\n  }\n\n  // \u884c\u6570\u91cf\uff0c\u5373\u77e9\u9635\u7684\u957f\u5ea6\n  const m = heights.length;\n  // \u5217\u6570\u91cf\uff0c\u5373\u77e9\u9635\u6bcf\u4e00\u9879\u7684\u957f\u5ea6\n  const n = heights[0].length;\n\n  // \u592a\u5e73\u6d0b\u77e9\u9635\n  const flow1 = Array.from({ length: m }, () => new Array(n).fill(false));\n  // \u5927\u897f\u6d0b\u77e9\u9635\n  const flow2 = Array.from({ length: m }, () => new Array(n).fill(false));\n\n  // \u884c\u5750\u6807\uff0c\u5217\u5750\u6807\uff0c\u77e9\u9635\n  const bfs = (r, c, flow) => {\n    // \u6d41\u7ecf\u6807\u8bb0\n    flow[r][c] = true;\n    const queue = [[r, c]];\n    const dirs = [\n      [-1, 0],\n      [1, 0],\n      [0, -1],\n      [0, 1],\n    ];\n\n    while (queue.length) {\n      const cell = queue.shift();\n      for (let dir of dirs) {\n        const nr = dir[0] + cell[0];\n        const nc = dir[1] + cell[1];\n        if (\n          // \u8fb9\u754c\u5904\u7406\n          nr >= 0 &&\n          nr < m &&\n          nc >= 0 &&\n          nc < n &&\n          // \u9632\u6b62\u6b7b\u5faa\u73af\n          !flow[nr][nc] &&\n          // \u9006\u6d41\u800c\u4e0a\n          heights[nr][nc] >= heights[cell[0]][cell[1]]\n        ) {\n          flow[nr][nc] = true;\n          queue.push([nr, nc]);\n        }\n      }\n    }\n  };\n\n  // \u6cbf\u7740\u6d77\u5cb8\u7ebf\u9006\u6d41\u800c\u4e0a\uff0c\u904d\u5386\u7b2c\u4e00\u5217\u548c\u6700\u540e\u4e00\u5217\n  for (let r = 0; r < m; r += 1) {\n    bfs(r, 0, flow1);\n    bfs(r, n - 1, flow2);\n  }\n\n  // \u6cbf\u7740\u6d77\u5cb8\u7ebf\u9006\u6d41\u800c\u4e0a\uff0c\u904d\u5386\u7b2c\u4e00\u884c\u548c\u6700\u540e\u4e00\u884c\n  for (let c = 0; c < n; c += 1) {\n    bfs(0, c, flow1);\n    bfs(m - 1, c, flow2);\n  }\n\n  // \u627e\u51fa\u65e2\u80fd\u6d41\u5230\u5927\u897f\u6d0b\u4e5f\u80fd\u6d41\u5230\u592a\u5e73\u6d0b\u7684\u5750\u6807\n  const res = [];\n  for (let r = 0; r < m; r += 1) {\n    for (let c = 0; c < n; c += 1) {\n      if (flow1[r][c] && flow2[r][c]) {\n        res.push([r, c]);\n      }\n    }\n  }\n  return res;\n};\n")))}p.isMDXComponent=!0}}]);